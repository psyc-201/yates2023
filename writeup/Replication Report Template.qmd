---
title: "Replication of Study Robust holistic face processing in early childhood
during the COVID-19 pandemic by Yates & Lewkowicz (2023, Journal of Experimental Child Psychology)"
author: "Replication Author[s]: Anna Pusok (annapusok@ucsd.edu)"
date: "`r format(Sys.time(), '%B %d, %Y')`"
format:
  html:
    toc: true
    toc_depth: 3
---

<!-- Replication reports should all use this template to standardize reporting across projects.  These reports will be public supplementary materials that accompany the summary report(s) of the aggregate results. -->

## Introduction

Autism spectrum disorder (ASD) is characterized by difficulties in social communication, repetitive behaviors and restricted interests. A fundamental aspect of social communication is face perception, which has been extensively studied in ASD research. The composite face effect (CFE; Young et al., 1987) is a measure of holistic face processing, and typically developing children show evidence of the CFE as early as four years of age. In contrast, individuals with ASD often exhibit atypical face processing, thought to stem from reduced holistic perception and employing more feature-based strategies. However, holistic face processing is cruical for social communication processes, such as emotion recognition. Although several studies have examined the CFE in adolescents and adults with ASD, findings have been inconsistent. To date, however, no research has investigated the CFE in young children with ASD. My first year project aims to fill this gap by testing holistic face processing in young children with ASD. As a first step, for my statistics project, I want to pilot the task with neurotypical adults to validate the paradigm and ensure the procedure is feasible before extending it to child populations. Yates & Lewkowicz tested the CFE paradigm in children ages 4-6, with findings that kids as young as 4 exhibit holistic face processing, so I am planning to replicate their study.

For the stimuli, I plan to use a Caucasian hairless faces (male and female) with neutral expressions, from the Chicago Face Database. The face images will be grayscale displayed on a white screen, and the top parts of the faces will be highlighted, consistent with prior (Yates & Lewkowicz, 2023). Yates & Lewkowicz presented 36 trials, for the adult sample, I plan to do more based on power analysis. //I will meet with Jane to discuss what is the best number of trials for the experiment based on power analysis. I do plan to use different analysis methods once I collect both neurotypical and ASD data given that Yates & Lewkowicz only had neurotypical kid data only and for the class, I'm only collecting neurotypical adult data.

The procedure will include two practice trials, the first one being spatially aligned composite faces where the top halves are of different faces, the other being spatially misaligned with same top halves. Participants will receive feedback during the practice trials, and the experiment only advances forward when participants select the correct choice. The test phase will consist of 2 blocks of 36 test trials with a short break between the blocks.

About 24 neurotypical adult participants will be recruited for the final project. This sample size was according to Hsiung & Chien (2024.) They conducted a power analysis and determined that 24 neurotypical and ASD adults are a good number. I uploaded that paper to my original_paper folder.

The main challenge will be ensuring that participants remain attentive through the trials. For that, I’ll be including an exclusion criteria that if participants said all “same” or all “different” responses, which would be an indicator of not paying attention. Participants who also fail to finish the experiment will also be excluded.

Link to paper: https://github.com/annapusok731/yates2023/tree/2885fd3f36660e431e4876c7b2f4dec89f9b7a79/original_paper

Repository: https://github.com/annapusok731/yates2023.git

## Methods

### Power Analysis

I calculated with power for Yates and Lewkowicz (2023) with G-Power. They had power of 1.0 with the effect size of 0.743 and n=128.
Based on these analyses, I need an n of 17 to have an actual power of 0.82 (however, I'm hoping to do additional analyses with an additional group {ASD group}, so I did additoonal power analyses bvased on a paper that has done similar task with two groups and got that, I'd need 24 participants in each group.)

### Planned Sample

About 24 neurotypical adult (# female gender, # other gender) participants (M age = X years, SD = Y, range = X-Y) will be recruited for the final project. This sample size was according to Hsiung & Chien (2024). "This sample size was calculated according to Rosner et al. (2005) and was determined based on power consideration (i.e., we set the type 1 error (α) to 0.05, the power (1-β) at approximately 0.84, leading to an expected sample size of 24)." 
Exclusion criteria(s): Participants will also be excluded from analyses if they respond at chance level (50% correct). Responses faster than 200 ms and average response time exceeding ±2 standard deviations from each participant's mean will also be excluded.

### Materials
Composite face stimuli will be created using Canva from the Chicago Face Database at (https://www.chicagofaces.org/). Faces will be grayscale images of White males and females with a neutral expression looking directly into the camera. 48 pairs of composite face stimuli (24 male and 24 female pairs) were presented to each participant. "Given that misalignment of inner face features can reduce the composite face effect (Curby & Entenman, 2016; but see Kurbel et al., 2021, for robust results regardless of perceptual fit), we ensured as much as possible that each individual face was paired with a same-gender face of similar size/shape and skin tone. In addition, as recommended for the composite face task (Rossion & Retter, 2015), we included a small gap between the top and bottom halves of each composite face."

"For each identity pair, we created 8 different composite faces from combinations of the top and bottom halves of the faces (these can be seen in Fig. 1 A). Four of these composite faces consisted of spatially aligned top and bottom halves of faces, and the other four consisted of spatially misaligned top and bottom halves of faces (in the misaligned composite faces, the top half of the face was shifted ∼1.2 cm to the left of the bottom half of the face). As can be seen in Fig. 1A, Composite Face AA consisted of the top and bottom halves of Identity A, Composite Face AB consisted of the top half of Identity A and the bottom half of Identity B, Composite Face BA consisted of the top half of Identity B and the bottom half of Identity A, and Composite Face BB consisted of the top and bottom halves of Identity B. To minimize the impact of external face features, we removed all hair and ears from the original images by using Adobe Photoshop 2020 and added a slight purple–pink tint to the top halves of the faces to draw children’s attention to the top halves (de Heering et al., 2007). The full stimulus set is available at a public GitHub link: [I'll add my GitHub repo here once the project is done.]"

### Procedure	

After gaining approval from the Institutional Review Board, participants were recruited through Sona and received course credit for participation. After enrolling through their Sona accounts, participants completed the experiment online.

"The first part of the experiment consisted of two practice trials. During the first of these trials, participants saw a pair of spatially aligned composite faces where the top halves were of different faces. One composite face was presented on one side of the screen, and the other composite face was presented on the other side of the screen."
Adults are asked to decide whether the yellow parts of the faces (i.e., the tops) of these composite faces were the same or different. Participants will receive feedback during the practice trials. Thus an incorrect response will prompt them to "Try Again." A correct response will confirm their accuracy: "Great job! The yellow parts of the face are the same." During the second practice trial, participants will see a pair of spatially misaligned composite faces where the top halves were of the same face and were once again asked whether the yellow parts” of these faces were the same or different. Again, if participants made an incorrect choice, they will be prompted to try again, and they got positive response for the correct choice.

After the practice trials are completed, adults were given 72 test trials during which "we presented four different types of stimulus pairs. These pairs were (a) aligned–same, where the top halves of the two composite faces depicted the same identity (e.g., AA and AB) and where the top and bottom halves were horizontally aligned, (b) aligned–different, where the top halves of two composite faces depicted different identities (e.g., BA and AB) and where the top and bottom halves were horizontally aligned, (c) misaligned–same, where the top halves of two composite faces depicted the same identity but were horizontally offset, and (d) misaligned–different, where the top halves of two composite faces depicted different identities but were horizontally offset (Fig. 1A, right). Fig. 1B shows an example of the types of stimuli and response buttons presented during an aligned–same trial."

"During each trial, participants were prompted to respond whether the faces were the same or different by clicking on one of two buttons visible on the screen corresponding to these choices (see Fig. 1B). Participants were also reminded after 10, 20, and 30 trials that they were supposed to answer whether the "yellow parts” of the face were the same or different. A click of one of the two response buttons was required to advance the experiment to the next trial. Participants had unlimited time to respond."

Once participants complete the experiment, they will be asked to complete a demographic survey indicating their age, race and ethnicity, highest level of education completed, current employment status and their location defined as "urban," "suburban" or "rural." Participants were also asked to complete the Social Responsiveness Scale (SRS-2 Adult) about their social abilities.

### Analysis Plan

"Response accuracy
The data of primary interest were the accuracy scores obtained in the same trials. Specifically, lower accuracy scores in the aligned–same trials than in the misaligned–same trials is generally considered to reflect holistic processing. The data of secondary interest were the accuracy scores obtained in the different trials. In this case, the accuracy scores in the aligned–different trials and in the misaligned–different trials should be the same. These different trial scores indicate how well children were able to detect differences when the top halves of the composite faces actually differed and, thus, provide a baseline against which to evaluate the accuracy data from the same trials. To statistically assess response accuracy, we performed mixed repeated-measures analysis of variance (ANOVA) models with alignment as a within-participants factor, age and gender as between-participants factors, and participant as a random effect. For all analyses, we included gender as a predictor given prior research showing that there may be differences in holistic face processing even in early childhood (Stajduhar et al., 2022)."

### Differences from Original Study

My study diverged from Yates and Lewkowicz in a few methodological aspects. Although both studies used the Chicago Face Database, I doubled the stimulus presentation (given that my sample size included adults instead of children), showing participants 48 unique composite face pairs (evenly split between male and female faces) rather than 24. I also modified the attentional cue by replacing the original purple-pink tint applied to top face halves with a yellow tint for enhanced visibility. Additionally, I extended the dependent measures beyond the original study by recording reaction times, establishing RT-based exclusion criteria, and performing supplementary RT related analyses. Finally, I added a demographic questionnaire and the Social Responsiveness Scale (SRS-2 Adult) to assess participants social abilities.

### Methods Addendum (Post Data Collection)

You can comment this section out prior to final report with data collection.

#### Actual Sample
  Sample size, demographics, data exclusions based on rules spelled out in analysis plan

#### Differences from pre-data collection methods plan
  Any differences from what was described as the original plan, or “none”.


## Results


### Data preparation

Three exclusion criteria will be applied. First, participants performing at or below chance (50% accuracy) were excluded. Second, participants who completed fewer than [X] trials per condition were removed from analyses (after we have the power analysis class, I'll add more concrete info here). Third, for reaction time analyses, we excluded individual trials faster than 200 ms and removed participants whose average RT fell more than three standard deviations from their group mean.

```{r include=F}
### Data Preparation

#### Load Relevant Libraries and Functions

#### Import data

#### Data exclusion / filtering

#### Prepare data for analysis - create columns etc.
```

### Confirmatory analysis

Accuracy & RT
I plan to do separate mixed-design ANOVAs for accuracy and RT data, with Group (Autism, Control) as the between-subjects factor and Condition (Aligned, Misaligned) as the within-subjects factor. The composite face effect was operationalized as the difference in performance between aligned and misaligned conditions, with a reduced effect in aligned trials indicating holistic face processing.
The critical test will be the Group × Condition interaction, which would indicate whether the composite face effect differs between autistic individuals and controls. I also plan to examine main effects of Group and Condition. 

SRS
I plan to do independent samples t-tests to compare SRS total scores between groups and then compute Pearson correlations between SRS total scores and the composite face effect (accuracy in aligned-same and misaligned-same conditions) to test whether individual differences in autistic symptoms predict holistic face processing.

*Side-by-side graph with original graph is ideal here*

### Exploratory analyses

Explonatory analyses (as of 11/05/25) (I wrote most of this code with the help of Claude so any suggestions/comments are greatly appreciated.) (See code on my github repo: yates2023/code/prelimanalysis.r)

# Load libraries
library(tidyverse)

# Set working directory to where your CSV files are
setwd("/Users/annapusok/Desktop/data/")

# Read and combine all CSV files
file_list <- list.files(pattern = "*.csv")
all_data <- map_df(file_list, read_csv)

# Display basic info
cat("Total number of files:", length(file_list), "\n")
cat("Total number of rows:", nrow(all_data), "\n")
cat("Number of unique subjects:", n_distinct(all_data$subject_id), "\n")

# Filter main task trials only (exclude practice and other non-trial rows)
main_data <- all_data %>%
  filter(task == "main", !is.na(correct), !is.na(response_time_ms))

# Create alignment and correct_response variables
main_data <- main_data %>%
  mutate(
    alignment = case_when(
      condition %in% c("diff_align", "same_aligned") ~ "aligned",
      condition %in% c("diff_misalign", "same_misaligned") ~ "misaligned"
    ),
    correct_response = case_when(
      condition %in% c("diff_align", "diff_misalign") ~ "different",
      condition %in% c("same_aligned", "same_misaligned") ~ "same"
    )
  )

cat("\nMain trials after filtering:", nrow(main_data), "\n")

# ===== ACCURACY ANALYSIS =====
cat("\n========== ACCURACY ANALYSIS ==========\n")

# Calculate accuracy by subject and condition
accuracy_by_subject <- main_data %>%
  group_by(subject_id, alignment, correct_response) %>%
  summarise(
    accuracy = mean(correct, na.rm = TRUE),
    n_trials = n(),
    .groups = "drop"
  )

# Overall means and SEs
accuracy_means <- accuracy_by_subject %>%
  group_by(alignment, correct_response) %>%
  summarise(
    mean_accuracy = mean(accuracy),
    se_accuracy = sd(accuracy) / sqrt(n()),
    n_subjects = n(),
    .groups = "drop"
  )

print(accuracy_means)

# Statistical tests for accuracy
cat("\n--- Accuracy: Different Trials ---\n")
diff_accuracy <- accuracy_by_subject %>%
  filter(correct_response == "different") %>%
  pivot_wider(names_from = alignment, values_from = accuracy, id_cols = subject_id)

if(all(c("aligned", "misaligned") %in% names(diff_accuracy))) {
  diff_acc_test <- t.test(diff_accuracy$aligned, diff_accuracy$misaligned, paired = TRUE)
  print(diff_acc_test)
  cat("Effect size (Cohen's d):", 
      (mean(diff_accuracy$aligned) - mean(diff_accuracy$misaligned)) / 
        sd(diff_accuracy$aligned - diff_accuracy$misaligned), "\n")
}

cat("\n--- Accuracy: Same Trials ---\n")
same_accuracy <- accuracy_by_subject %>%
  filter(correct_response == "same") %>%
  pivot_wider(names_from = alignment, values_from = accuracy, id_cols = subject_id)

if(all(c("aligned", "misaligned") %in% names(same_accuracy))) {
  same_acc_test <- t.test(same_accuracy$aligned, same_accuracy$misaligned, paired = TRUE)
  print(same_acc_test)
  cat("Effect size (Cohen's d):", 
      (mean(same_accuracy$aligned) - mean(same_accuracy$misaligned)) / 
        sd(same_accuracy$aligned - same_accuracy$misaligned), "\n")
}

# Accuracy plot
accuracy_plot <- ggplot(accuracy_means, 
                        aes(x = alignment, y = mean_accuracy, fill = correct_response)) +
  geom_bar(stat = "identity", position = position_dodge(0.9), width = 0.7) +
  geom_errorbar(aes(ymin = mean_accuracy - se_accuracy, 
                    ymax = mean_accuracy + se_accuracy),
                width = 0.2, position = position_dodge(0.9)) +
  scale_fill_manual(values = c("different" = "#38b6ff", "same" = "#ff914d"),
                    labels = c("Different", "Same")) +
  labs(title = "Accuracy by Alignment and Response Type",
       y = "Accuracy (Proportion Correct)", 
       x = "Alignment Condition",
       fill = "Trial Type") +
  theme_minimal(base_size = 14) +
  theme(legend.position = "top") +
  ylim(0, 1)

print(accuracy_plot)
ggsave("accuracy_plot.png", width = 8, height = 6)



## Discussion

### Summary of Replication Attempt

Open the discussion section with a paragraph summarizing the primary result from the confirmatory analysis and the assessment of whether it replicated, partially replicated, or failed to replicate the original result.  

### Commentary

Add open-ended commentary (if any) reflecting (a) insights from follow-up exploratory analysis, (b) assessment of the meaning of the replication (or not) - e.g., for a failure to replicate, are the differences between original and present study ones that definitely, plausibly, or are unlikely to have been moderators of the result, and (c) discussion of any objections or challenges raised by the current and original authors about the replication attempt.  None of these need to be long.
